<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarefa 7 - Processamento Paralelo com Tasks e Lista Encadeada</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            background-color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #e74c3c;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-align: center;
        }

        h2 {
            color: #34495e;
            border-left: 5px solid #3498db;
            padding-left: 20px;
            margin-top: 40px;
            margin-bottom: 20px;
            background-color: #ecf0f1;
            padding: 15px 20px;
            border-radius: 5px;
        }

        h3 {
            color: #2980b9;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        h4 {
            color: #8e44ad;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #e74c3c;
            position: relative;
        }

        .code-block::before {
            content: 'C';
            position: absolute;
            top: 5px;
            right: 10px;
            background-color: #e74c3c;
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 0.8em;
        }

        .output-block {
            background-color: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #27ae60;
            max-height: 600px;
            overflow-y: auto;
        }

        .inline-code {
            background-color: #e8f4f8;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background-color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #e3f2fd;
            transition: background-color 0.3s;
        }

        .flow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .step-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .step-card:hover {
            transform: translateY(-5px);
        }

        .step-number {
            background-color: rgba(255,255,255,0.3);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px auto;
            font-weight: bold;
        }

        .commands-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .command-card {
            background-color: #f8f9fa;
            border: 2px solid #3498db;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .command-title {
            background-color: #3498db;
            color: white;
            padding: 10px;
            margin: -20px -20px 15px -20px;
            border-radius: 8px 8px 0 0;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .navigation {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            max-width: 250px;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }

        .navigation h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .navigation ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .navigation li {
            margin: 8px 0;
        }

        .navigation a {
            color: #3498db;
            text-decoration: none;
            font-size: 0.9em;
            transition: color 0.3s;
        }

        .navigation a:hover {
            color: #e74c3c;
            font-weight: bold;
        }

        .navigation a.active {
            font-weight: bold;
            color: #2c3e50;
        }

        .scientists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .scientist-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .advantages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .advantage-card {
            background-color: #e8f5e8;
            border-left: 5px solid #27ae60;
            padding: 20px;
            border-radius: 8px;
        }

        .advantage-title {
            color: #27ae60;
            font-weight: bold;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .navigation {
                position: static;
                margin-bottom: 20px;
                max-width: none;
            }
            
            .flow-steps,
            .commands-grid,
            .advantages-grid {
                grid-template-columns: 1fr;
            }

            body {
                padding: 10px;
            }

            .container {
                padding: 20px;
            }
        }

        .footer {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <nav class="navigation">
        <h4>Navega√ß√£o</h4>
        <ul>
            <li><a href="#descricao">Descri√ß√£o</a></li>
            <li><a href="#conceitos">Conceitos</a></li>
            <li><a href="#estrutura">Estrutura</a></li>
            <li><a href="#fluxo">Fluxo de Execu√ß√£o</a></li>
            <li><a href="#comandos">Comandos OpenMP</a></li>
            <li><a href="#output">Exemplo de Sa√≠da</a></li>
            <li><a href="#performance">Performance</a></li>
            <li><a href="#comparacao">Compara√ß√£o</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1>üî• Tarefa 7 - Processamento Paralelo com Tasks e Lista Encadeada</h1>

        <div class="highlight-box">
            OpenMP Tasks + Lista Encadeada = Paraleliza√ß√£o Din√¢mica e Flex√≠vel üöÄ
        </div>

        <section id="descricao">
            <h2>üìã Descri√ß√£o</h2>
            <p>Este programa demonstra o uso de <strong>OpenMP Tasks</strong> para processamento paralelo de uma lista encadeada. O programa cria uma lista de arquivos fict√≠cios (nomeados com sobrenomes de cientistas famosos) e utiliza tasks para processar cada arquivo de forma paralela e ass√≠ncrona.</p>

            <h3>üéØ Funcionalidades</h3>
            <ul>
                <li><strong>Lista Encadeada</strong>: Estrutura de dados din√¢mica contendo nomes de arquivos</li>
                <li><strong>OpenMP Tasks</strong>: Cria√ß√£o de tarefas paralelas para processamento ass√≠ncrono</li>
                <li><strong>Distribui√ß√£o Din√¢mica</strong>: Tasks s√£o distribu√≠das automaticamente entre threads dispon√≠veis</li>
                <li><strong>Sincroniza√ß√£o Expl√≠cita</strong>: Uso de <span class="inline-code">barrier</span>, <span class="inline-code">taskwait</span>, <span class="inline-code">single</span> e <span class="inline-code">master</span></li>
                <li><strong>Gerenciamento de Mem√≥ria</strong>: Libera√ß√£o adequada da mem√≥ria alocada</li>
            </ul>
        </section>

        <section id="conceitos">
            <h2>üí° Conceitos Demonstrados</h2>

            <div class="commands-grid">
                <div class="command-card">
                    <div class="command-title">#pragma omp task</div>
                    <div class="code-block">
#pragma omp task firstprivate(nome_local, task_id)
{
    int thread_executora = omp_get_thread_num();
    processar_arquivo(nome_local, thread_executora, task_id);
}
                    </div>
                    <p>Cria tarefas ass√≠ncronas para processamento paralelo</p>
                </div>

                <div class="command-card">
                    <div class="command-title">#pragma omp single</div>
                    <div class="code-block">
#pragma omp single
{
    // Apenas uma thread cria todas as tasks
    // Evita duplica√ß√£o de trabalho
}
                    </div>
                    <p>Garante que apenas uma thread execute o bloco</p>
                </div>

                <div class="command-card">
                    <div class="command-title">#pragma omp master</div>
                    <div class="code-block">
#pragma omp master
{
    // Executado apenas pela thread master (ID 0)
    // Usado para inicializa√ß√£o e finaliza√ß√£o
}
                    </div>
                    <p>Executado apenas pela thread master (ID 0)</p>
                </div>

                <div class="command-card">
                    <div class="command-title">#pragma omp barrier</div>
                    <div class="code-block">
#pragma omp barrier
{
    // Todas as threads esperam aqui
    // Garante sincroniza√ß√£o entre threads
}
                    </div>
                    <p>Sincroniza√ß√£o expl√≠cita entre todas as threads</p>
                </div>

                <div class="command-card">
                    <div class="command-title">#pragma omp taskwait</div>
                    <div class="code-block">
#pragma omp taskwait
{
    // Espera todas as tasks criadas pela thread atual
    // Sincroniza√ß√£o expl√≠cita de tasks
}
                    </div>
                    <p>Aguarda conclus√£o de todas as tasks</p>
                </div>
            </div>
        </section>

        <section id="estrutura">
            <h2>üèóÔ∏è Estrutura do Programa</h2>

            <h3>Lista Encadeada</h3>
            <div class="code-block">
typedef struct No {
    char nome_arquivo[50];
    struct No* proximo;
} No;
            </div>

            <h3>Arquivos de Cientistas Famosos</h3>
            <div class="scientists-grid">
                <div class="scientist-card">Einstein.txt</div>
                <div class="scientist-card">Newton.txt</div>
                <div class="scientist-card">Darwin.txt</div>
                <div class="scientist-card">Curie.txt</div>
                <div class="scientist-card">Tesla.txt</div>
                <div class="scientist-card">Hawking.txt</div>
                <div class="scientist-card">Turing.txt</div>
                <div class="scientist-card">Galileo.txt</div>
                <div class="scientist-card">Mendel.txt</div>
                <div class="scientist-card">Pascal.txt</div>
            </div>
        </section>

        <section id="fluxo">
            <h2>‚ö° Fluxo de Execu√ß√£o</h2>
            
            <div class="flow-steps">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <strong>Cria√ß√£o da Lista</strong><br>
                    Adiciona 10 arquivos fict√≠cios √† lista encadeada
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <strong>Regi√£o Paralela</strong><br>
                    Inicia regi√£o paralela com m√∫ltiplas threads
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <strong>Inicializa√ß√£o Master</strong><br>
                    Thread master (ID 0) executa inicializa√ß√£o
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <strong>Barreira Inicial</strong><br>
                    Todas as threads sincronizam antes do processamento
                </div>
                <div class="step-card">
                    <div class="step-number">5</div>
                    <strong>Cria√ß√£o de Tasks</strong><br>
                    Uma √∫nica thread percorre a lista e cria tasks
                </div>
                <div class="step-card">
                    <div class="step-number">6</div>
                    <strong>Processamento Paralelo</strong><br>
                    Tasks s√£o executadas por diferentes threads
                </div>
                <div class="step-card">
                    <div class="step-number">7</div>
                    <strong>Task Wait</strong><br>
                    Aguarda explicitamente todas as tasks terminarem
                </div>
                <div class="step-card">
                    <div class="step-number">8</div>
                    <strong>Barreira Final</strong><br>
                    Sincroniza√ß√£o ap√≥s conclus√£o das tasks
                </div>
                <div class="step-card">
                    <div class="step-number">9</div>
                    <strong>Finaliza√ß√£o Master</strong><br>
                    Thread master executa limpeza final
                </div>
                <div class="step-card">
                    <div class="step-number">10</div>
                    <strong>Limpeza</strong><br>
                    Libera mem√≥ria da lista encadeada
                </div>
            </div>
        </section>

        <section id="comandos">
            <h2>üîß Comandos OpenMP Utilizados</h2>

            <table>
                <thead>
                    <tr>
                        <th>Comando</th>
                        <th>Fun√ß√£o</th>
                        <th>Uso no Programa</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="inline-code">#pragma omp single</span></td>
                        <td>Execu√ß√£o por apenas uma thread</td>
                        <td>Cria√ß√£o de tasks (evita duplica√ß√£o)</td>
                    </tr>
                    <tr>
                        <td><span class="inline-code">#pragma omp master</span></td>
                        <td>Execu√ß√£o pela thread master (ID 0)</td>
                        <td>Inicializa√ß√£o e finaliza√ß√£o do sistema</td>
                    </tr>
                    <tr>
                        <td><span class="inline-code">#pragma omp barrier</span></td>
                        <td>Sincroniza√ß√£o de todas as threads</td>
                        <td>Pontos de sincroniza√ß√£o no fluxo</td>
                    </tr>
                    <tr>
                        <td><span class="inline-code">#pragma omp task</span></td>
                        <td>Cria√ß√£o de tarefas ass√≠ncronas</td>
                        <td>Processamento paralelo dos arquivos</td>
                    </tr>
                    <tr>
                        <td><span class="inline-code">#pragma omp taskwait</span></td>
                        <td>Aguardar conclus√£o das tasks</td>
                        <td>Sincroniza√ß√£o expl√≠cita das tasks</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="output">
            <h2>üìü Exemplo de Sa√≠da</h2>
            
            <div class="output-block">
=== PROCESSAMENTO PARALELO DE ARQUIVOS COM TASKS ===
Criando lista de arquivos fict√≠cios...

N√∫mero de threads dispon√≠veis: 8
Iniciando processamento paralelo...

Thread master 0 inicializando sistema...
Thread 7 criando tasks para processamento...

==> Task 1 iniciada na Thread 6: Einstein.txt
==> Task 4 iniciada na Thread 1: Curie.txt
  -> Thread 1: Analisando conte√∫do de Curie.txt...
==> Task 2 iniciada na Thread 3: Newton.txt
  -> Thread 3: Analisando conte√∫do de Newton.txt...
  -> Thread 6: Analisando conte√∫do de Einstein.txt...
==> Task 5 iniciada na Thread 0: Tesla.txt
  -> Thread 0: Analisando conte√∫do de Tesla.txt...

Todas as 10 tasks foram criadas!
Aguardando conclus√£o de todas as tasks...

  -> Thread 3: Processamento de Newton.txt conclu√≠do!
==> Task 2 finalizada na Thread 3
  -> Thread 1: Processamento de Curie.txt conclu√≠do!
==> Task 4 finalizada na Thread 1

Thread master 0 finalizando processamento...

=== PROCESSAMENTO CONCLU√çDO ===
Todos os arquivos foram processados com sucesso!
            </div>
        </section>

        <section id="vantagens">
            <h2>‚ú® Vantagens das Tasks</h2>
            
            <div class="advantages-grid">
                <div class="advantage-card">
                    <div class="advantage-title">üîÑ Balanceamento Din√¢mico</div>
                    <ul>
                        <li>Tasks s√£o distribu√≠das automaticamente</li>
                        <li>Threads ociosas pegam novas tasks</li>
                        <li>Melhor utiliza√ß√£o de recursos</li>
                    </ul>
                </div>
                <div class="advantage-card">
                    <div class="advantage-title">üéØ Flexibilidade</div>
                    <ul>
                        <li>N√∫mero vari√°vel de tasks</li>
                        <li>Cria√ß√£o condicional de tasks</li>
                        <li>Aninhamento de tasks poss√≠vel</li>
                    </ul>
                </div>
                <div class="advantage-card">
                    <div class="advantage-title">üîó Desacoplamento</div>
                    <ul>
                        <li>Cria√ß√£o e execu√ß√£o s√£o independentes</li>
                        <li>Uma thread cria, outras executam</li>
                        <li>Escalabilidade natural</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="performance">
            <h2>üìä An√°lise de Performance</h2>

            <h3>Caracter√≠sticas Observadas</h3>
            <div class="advantages-grid">
                <div class="advantage-card">
                    <div class="advantage-title">üé≤ Distribui√ß√£o N√£o-Determin√≠stica</div>
                    <p>A cada execu√ß√£o, tasks podem ser executadas por threads diferentes. A ordem de execu√ß√£o varia devido ao escalonamento din√¢mico.</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-title">‚ö° Utiliza√ß√£o Eficiente</div>
                    <p>M√∫ltiplas threads trabalham simultaneamente com balanceamento autom√°tico de carga.</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-title">üöÄ Overhead M√≠nimo</div>
                    <p>Tasks s√£o criadas rapidamente com sincroniza√ß√£o eficiente.</p>
                </div>
            </div>

            <h3>Conceitos de Programa√ß√£o Paralela</h3>
            <ul>
                <li><strong>Task Parallelism</strong>: Diferentes threads executam diferentes tarefas</li>
                <li><strong>Work Stealing</strong>: OpenMP implementa algoritmo de work stealing</li>
                <li><strong>Fork-Join Estendido</strong>: Tasks estendem o modelo fork-join tradicional</li>
            </ul>
        </section>

        <section id="comparacao">
            <h2>‚öîÔ∏è Compara√ß√£o: Tasks vs Parallel For</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Aspecto</th>
                        <th>Tasks</th>
                        <th>Parallel For</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Estrutura de Dados</strong></td>
                        <td>Qualquer (lista, √°rvore)</td>
                        <td>Arrays/loops</td>
                    </tr>
                    <tr>
                        <td><strong>Balanceamento</strong></td>
                        <td>Din√¢mico autom√°tico</td>
                        <td>Est√°tico/manual</td>
                    </tr>
                    <tr>
                        <td><strong>Flexibilidade</strong></td>
                        <td>Alta</td>
                        <td>Limitada</td>
                    </tr>
                    <tr>
                        <td><strong>Overhead</strong></td>
                        <td>Ligeiramente maior</td>
                        <td>Menor</td>
                    </tr>
                    <tr>
                        <td><strong>Casos de Uso</strong></td>
                        <td>Trabalho irregular</td>
                        <td>Trabalho uniforme</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>

    <div class="footer">
        <h3>üéì Compila√ß√£o e Execu√ß√£o</h3>
        <div class="code-block">
# Compila√ß√£o
gcc -fopenmp -o tarefa7 tarefa7.c

# Execu√ß√£o
./tarefa7
        </div>
        
        <p><strong>üí° Conclus√£o:</strong> Este programa demonstra como os 5 comandos OpenMP fundamentais (<span class="inline-code">single</span>, <span class="inline-code">master</span>, <span class="inline-code">barrier</span>, <span class="inline-code">task</span>, <span class="inline-code">taskwait</span>) trabalham em conjunto para criar um sistema de processamento paralelo robusto e bem sincronizado, oferecendo controle preciso sobre a execu√ß√£o e distribui√ß√£o de trabalho.</p>
    </div>

    <script>
        // Smooth scrolling para navega√ß√£o
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight da se√ß√£o atual na navega√ß√£o
        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -60% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    
                    // Remove active class from all links
                    document.querySelectorAll('.navigation a').forEach(link => {
                        link.classList.remove('active');
                    });
                    
                    // Add active class to current link
                    const currentLink = document.querySelector(`.navigation a[href="#${id}"]`);
                    if (currentLink) {
                        currentLink.classList.add('active');
                    }
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });

        // Anima√ß√£o das cartas ao rolar
        const cardObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.step-card, .command-card, .advantage-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            cardObserver.observe(card);
        });
    </script>
</body>
</html>
